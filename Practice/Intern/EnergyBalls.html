<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
	<title>夏日能量球</title>
	<style>
	*{margin:0;padding:0;overflow:hidden;transition: all 1s;}
	html,body{height:100%;width:100%;font-family: '微软雅黑';}
	.page-1,.page-2,.page-3{
	  	height:100%;
	  	width: 100%;
	  }
	.page3 div{
		width:100%;
		height: 100%;
	}
	.background{
		width:100%;
		height: 100%;
	}
	 img{
	  	display:block;
	  	margin:0 auto;
	  }
	.phone{
		position: absolute;
		width:70%;
		bottom: 30%;
		left:50%;
		transform: translateX(-50%);
		-moz-transform: translateX(-50%);
		-webkit-transform: translateX(-50%);
		-o-transform: translateX(-50%);
		-ms-transform: translateX(-50%);
	}
	.phoneNum{
		position: absolute;
		width:45%;
		height:5%;
		bottom: 31.5%;
		left:18%;
		border:none;
		border-radius: 10px;
		font-size:1.2rem;
		text-align: center;
	}
	.introBtn{
		position: absolute;
		width:50%;
		bottom: 17%;
		left:50%;
		transform: translateX(-50%);
		-webkit-transform: translateX(-50%);
		-o-transform: translateX(-50%);
		-moz-transform: translateX(-50%);
		-ms-transform: translateX(-50%);
	}
	.intro{
		position: absolute;
		width:90%;
		left:5%;
		top:10%;
		z-index: 100;
	}
	.intro img:first-of-type{
		width:100%;
	}
	.close{
		position: absolute;
		width:15%;
		right:2%;
		top:2%;
	}
	.begin{
		position: absolute;
		bottom: 30.5%;
		right:20%;
		width:15%;
	}
    
    .btns{
    	position: absolute;
    	width:90%;
    	height:9%;
    	bottom:21%;
    	left:5%;
    }
    .btns img{
    	position: absolute;
    	width:47%;
    }
    .btns img:first-of-type{
    	left:0;
    }
    .btns img:last-of-type{
    	right:0;
    }
    .balls{
    	position: absolute;
    	width:80%;
    	left:10%;
    	top:10%;
    	height:55%;
    }
    .balls img{
    	position: absolute;
    	width:36%;
    }
    .balls img:nth-of-type(1){
    	left:0;
    }
    .balls span{
    	display: inline-block;
    	position: absolute;
    	color: #fff;
    }
    .balls span:nth-of-type(1){
         top:33%;
         left:5%;
    }
    .balls span:nth-of-type(2){
    	top:33%;
    	right:6%;
    }
    .balls span:nth-of-type(3){
    	top:65%;
    	left:39%;
    	
    }
    .balls span:nth-of-type(4){
    	top:93%;
    	left:5%;
    	
    }
    .balls span:nth-of-type(5){
    	top:93%;
    	right:6%;
    	
    }
    .balls img:nth-of-type(2){
    	right:0;
    	border-radius: 50%;
    } 

    .balls img:nth-of-type(3){
    	left:32%;
    	top:33%;
    }    
    .balls img:nth-of-type(4){
    	left:0;
    	bottom: 7%;
    }    
    .balls img:nth-of-type(5){
    	right: 0;
    	bottom: 7%;
    }
    .friendCircle{
    	position: absolute;
    	top:0;
    	width:100%;
    	height:100%;
    	display: none;
    }
    .err{
    	position:absolute;
    	width: 100%;
    	height: 100%;
    	top:0;
    	background-color:rgba(107, 13, 13,0.4);
    	animation: alarm 2s linear infinite;
    	-webkit-animation: alarm 2s linear infinite;
    	-moz-animation: alarm 2s linear infinite;
    	-o-animation: alarm 2s linear infinite;
    	-ms-animation: alarm 2s linear infinite;
    	display: none;
    }
    @keyframes alarm{
    	0%{background-color:rgba(107, 13, 13,0.4);}
    	50%{background-color:rgba(241, 23, 23,0.6);}
    	100%{background-color:rgba(107, 13, 13,0.4);}
    }
    @-webkit-keyframes alarm{
    	0%{background-color:rgba(107, 13, 13,0.4);}
    	50%{background-color:rgba(241, 23, 23,0.6);}
    	100%{background-color:rgba(107, 13, 13,0.4);}
    }
    @-o-keyframes alarm{
    	0%{background-color:rgba(107, 13, 13,0.4);}
    	50%{background-color:rgba(241, 23, 23,0.6);}
    	100%{background-color:rgba(107, 13, 13,0.4);}
    }
    @-ms-keyframes alarm{
    	0%{background-color:rgba(107, 13, 13,0.4);}
    	50%{background-color:rgba(241, 23, 23,0.6);}
    	100%{background-color:rgba(107, 13, 13,0.4);}
    }
    @-moz-keyframes alarm{
    	0%{background-color:rgba(107, 13, 13,0.4);}
    	50%{background-color:rgba(241, 23, 23,0.6);}
    	100%{background-color:rgba(107, 13, 13,0.4);}
    }
    .alarm{
    	position: absolute;
    	width:70%;
    	top:20%;
    	left:15%;
    	opacity: 1;
    }
    .func{
    	position: absolute;
        width:90%;
        left:5%;
        bottom:12%;
    }
    .func img{
    	width:46%;
    	margin-bottom:3.5%;
    }
    .left{
    	position: absolute;
    	width:10%;
    	left:5%;
    	top:36%;
    	z-index: 10;
    	transform: translateY(-50%);
    	-webkit-transform: translateY(-50%);
    	-o-transform: translateY(-50%);
    	-moz-transform: translateY(-50%);
    	-ms-transform: translateY(-50%);
    }
    .right{
    	position: absolute;
    	width:10%;
    	right:5%;
    	top:36%;
    	z-index: 10;
    	transform: translateY(-50%);  
    	-webkit-transform: translateY(-50%);  
    	-o-transform: translateY(-50%);  
    	-moz-transform: translateY(-50%);  
    	-ms-transform: translateY(-50%);  
    }
    [class^='ball-']{
    	position: absolute;
    	width:20%;
    	height:100%;
    	top:0;
    }
     [class^='ball-'] img{
     	width:40%;
      	position: absolute;
     	left:30%;
     	top:34%;
     }
     .collect{
     	position:relative;
     	top:-100%;
     	width:500%;
     	height:72%;
     	overflow: hidden;
     	color:#fff;
     }
     .collect span:nth-of-type(1){
     	position: absolute;
     	top:72%;
     	left:40%;
     }
     .collect span:nth-of-type(2){
     	position: absolute;
     	top:72%;
     	left:165%;
     }
     .collect span:nth-of-type(3){
     	position: absolute;
     	top:72%;
     	left:265%;
     }
     .collect span:nth-of-type(4){
     	position: absolute;
     	top:72%;
     	left:365%;
     }
     .collect span:nth-of-type(5){
     	position: absolute;
     	top:72%;
     	left:465%;
     }
     .sendpage,.helppage{
        position: absolute;
        top:0;
        width:100%;
        height: 100%;
        z-index: 10;
        display: none;
     }
    .pos1{left:0;}
    .pos2{left:-100%;}
    .pos3{left:-200%;}
    .pos4{left:-300%;}
    .pos5{left:-400%;}

    .ball-1{left:0;}
    .ball-2{left:20%;}
    .ball-3{left:40%;}
    .ball-4{left:60%;}
    .ball-5{left:80%;}
	.intro{display: none}
    .page-2,.page-3{display:none;}
     
    .star1,.star2,.star3,.star4,.star5{
    	position: absolute;
    }
    .star1{
    	width:15%;
    	top:10%;
    	left:15%;
    	animation: bling 2s linear 1s infinite;
    	-webkit-animation: bling 2s linear 1s infinite;
    	-o-animation: bling 2s linear 1s infinite;
    	-ms-animation: bling 2s linear 1s infinite;
    	-moz-animation: bling 2s linear 1s infinite;

    }
    .star2{
    	width:10%;
    	top:15%;
    	right:23%; 
    	animation: bling 2s linear infinite;
    	-webkit-animation: bling 2s linear infinite;
    	-o-animation: bling 2s linear infinite;
    	-ms-animation: bling 2s linear infinite;
    	-moz-animation: bling 2s linear infinite;

    }
    .star3{
    	width:10%;
    	top:49%;
    	left:15%;
    	animation: bling 2s linear .4s infinite;
    	-webkit-animation: bling 2s linear .4s infinite;
    	-moz-animation: bling 2s linear .4s infinite;
    	-ms-animation: bling 2s linear .4s infinite;
    	-o-animation: bling 2s linear .4s infinite;
    }
    .star4{
      width:10%;
      top:6%;
      left:10%;
      animation: bling 2s linear .6s infinite;
      -webkit-animation: bling 2s linear .6s infinite;
      -moz-animation: bling 2s linear .6s infinite;
      -ms-animation: bling 2s linear .6s infinite;
      -o-animation: bling 2s linear .6s infinite;
    }
    .star5{
    	width:8%;
    	top:6%;
    	right:15%;
    	animation: bling 2s linear infinite;
    	-webkit-animation: bling 2s linear infinite;
    	-moz-animation: bling 2s linear infinite;
    	-o-animation: bling 2s linear infinite;
    	-ms-animation: bling 2s linear infinite;
    }
    @keyframes bling{
    	0%{opacity: 1}
    	50%{opacity: 0}
    	100%{opacity: 1}
    }
    @-webkit-keyframes bling{
    	0%{opacity: 1}
    	50%{opacity: 0}
    	100%{opacity: 1}
    }
    @-moz-keyframes bling{
    	0%{opacity: 1}
    	50%{opacity: 0}
    	100%{opacity: 1}
    }
    @-ms-keyframes bling{
    	0%{opacity: 1}
    	50%{opacity: 0}
    	100%{opacity: 1}
    }
    @-o-keyframes bling{
    	0%{opacity: 1}
    	50%{opacity: 0}
    	100%{opacity: 1}
    }
   .balls img,.collect img{
　
   	transform:rotate3d(0,0,0,0deg);
   	animation: rotate 3s linear infinite;
    -webkit-animation: rotate 3s linear infinite;
   	-moz-animation: rotate 3s linear infinite;
   	-o-animation: rotate 3s linear infinite;
   	-ms-animation: rotate 3s linear infinite;
   }
 @keyframes rotate{
   	0% {transform:rotate3d(0,0,1,0deg);}
    100%{transform:rotate3d(0,0,1,360deg);}}
}
   @-webkit-keyframes rotate{
   	0% {-webkit-transform:rotate3d(0,0,1,0deg);}
    100%{-webkit-transform:rotate3d(0,0,1,360deg);}}
}
   @-moz-keyframes rotate{
   	0% {-moz-transform:rotate3d(0,0,1,0deg);}
    100%{-moz-transform:rotate3d(0,0,1,360deg);}}
}
   @-ms-keyframes rotate{
   	0% {-ms-transform:rotate3d(0,0,1,0deg);}
    100%{-ms-transform:rotate3d(0,0,1,360deg);}}
}
   @-o-keyframes rotate{
   	0% {-o-transform:rotate3d(0,0,1,0deg);}
    100%{-o-transform:rotate3d(0,0,1,360deg);}}
}
	</style>
</head>
<body>
<div class="page-1">
   <img src="images/page1/background.png" alt="background" class="background" />
   <img src="images/page1/phone.png" alt="phone" class="phone" />
   <img src="images/page1/begin.png" alt="begin" class="begin" />
   <input type="text" class="phoneNum" placeholder="请输入手机号码" />
   <div class="intro">
   <img src="images/page1/intro.png" alt="intro" />
   <img src="images/page1/close.png" alt="close" class="close">
   </div>
   <img src="images/page1/introBtn.png" alt="introBtn" class="introBtn" />
</div>

<div class="page-2">
    <div class="balls">
    	<img src="images/page2/ball1.png" alt="ball1" />
    	<span>去瞌球<b>0</b>个</span>
    	<img src="images/page2/ball2.png" alt="ball2" />
    	<span>抗饿球<b>0</b>个</span>
    	<img src="images/page2/ball3.png" alt="ball3" />
    	<span>解乏球<b>0</b>个</span>
    	<img src="images/page2/ball4.png" alt="ball4" />
    	<span>减肥球<b>0</b>个</span>
    	<img src="images/page2/ball5.png" alt="ball5" />
    	<span>消暑球<b>0</b>个</span>
    </div>
    <img src="images/page3/star1.png" alt="star" class="star4" />
    <img src="images/page3/star2.png" alt="star" class="star5" />
	<img src="images/page2/background.png" alt="background" class="background" />
	<div class="err">
	<img src="images/page2/alarm.png" alt="alarm" class="alarm" />
	</div>
	<div class="btns">
	<a class="link" target="_blank" href="http://wap.17iwo.com/yhqhx"></a>
	<img src="images/page2/get.png" alt="getDiscount" class="getDiscount" />
	<img src="images/page2/invite.png" alt="invite" class="invite" />
	</div>
	<img src="images/page2/friend.png" alt="friend" class="friendCircle" />
</div>

<div class="page-3">
   	<img src="images/page3/background.png" alt="background" class="background" />
   	<img src="images/page3/left.png" alt="left" class="left" />
   	<img src="images/page3/right.png" alt="right" class="right" />
   	<div class="func">
   	  	  <img src="images/page3/send.png" alt="send" class="send" />
   	  	  <img src="images/page3/help.png" alt="help" class="help" />
   	</div>
   <img src="images/page3/sendpage.png" alt="sendpage" class="sendpage" />
   <img src="images/page3/helppage.png" alt="helppage" class="helppage" />
   <img src="images/page3/star1.png" alt="star1" class="star1" />
   <img src="images/page3/star2.png" alt="star2" class="star2" />
   <img src="images/page3/star3.png" alt="star3" class="star3" />
   <div class="collect">
   <div class="ball-1">
    <span>去瞌球<b>0</b>个</span>
   <img src="images/page2/ball1.png" alt="ball1"></div>
   <div class="ball-2">
    <span>抗饿球<b>0</b>个</span>
   <img src="images/page2/ball2.png" alt="ball1"></div>
   <div class="ball-3">
    <span>解乏球<b>0</b>个</span>
   <img src="images/page2/ball3.png" alt="ball1"></div>
   <div class="ball-4">
    <span>减肥球<b>0</b>个</span>
   <img src="images/page2/ball4.png" alt="ball1"></div>
   <div class="ball-5">
    <span>消暑球<b>0</b>个</span>
   <img src="images/page2/ball5.png" alt="ball1"></div>
   </div>
</div>
<script>
   //page1 
   var introBtn=document.getElementsByClassName('introBtn')[0];
   var intro=document.getElementsByClassName('intro')[0];
   var close=document.getElementsByClassName('close')[0];
   var begin=document.getElementsByClassName('begin')[0];
   var page1=document.getElementsByClassName('page-1')[0];
   var page2=document.getElementsByClassName('page-2')[0];
   introBtn.onclick=function(){
   	intro.style.display='block';
   }
   close.onclick=function(){
   	intro.style.display='none';
   }
   begin.onclick=function(){
   	var phone=document.getElementsByClassName('phoneNum')[0].value;
   	if(phone==''){
   		alert('请输入您的手机号!');
   	}else if(!/^(13[0-9]|14[0-9]|15[0-9]|18[0-9])\d{8}$/i.test(phone)){
   	    alert('请输入正确手机号!');  
     }else{
     	page1.style.display='none';
        page2.style.display='block';
     }
   }

   //page2
   var getDiscount=document.getElementsByClassName('getDiscount')[0];
   var invite=document.getElementsByClassName('invite')[0];
   var link=document.getElementsByClassName('link')[0];
   var friendCircle=document.getElementsByClassName('friendCircle')[0];
   var page3=document.getElementsByClassName('page-3')[0];
   var ball1=document.querySelector('.balls img:nth-of-type(1)');
   var ball2=document.querySelector('.balls img:nth-of-type(2)');
   var ball3=document.querySelector('.balls img:nth-of-type(3)');
   var ball4=document.querySelector('.balls img:nth-of-type(4)');
   var ball5=document.querySelector('.balls img:nth-of-type(5)');
   var singleBall1=document.getElementsByClassName('ball-1')[0];
   var singleBall2=document.getElementsByClassName('ball-2')[0];
   var singleBall3=document.getElementsByClassName('ball-3')[0];
   var singleBall4=document.getElementsByClassName('ball-4')[0];
   var singleBall5=document.getElementsByClassName('ball-5')[0];
   var left=document.getElementsByClassName('left')[0];
   var right=document.getElementsByClassName('right')[0];
   var collect=document.getElementsByClassName('collect')[0];
   

   ball1.onclick=function(){
   	page2.style.display='none';
   	page3.style.display='block';
   	collect.classList.add('pos1');
   }
   ball2.onclick=function(){
   	page2.style.display='none';
   	page3.style.display='block';
   	collect.classList.add('pos2');
   }
   ball3.onclick=function(){
   	page2.style.display='none';
   	page3.style.display='block';
   	collect.classList.add('pos3');
   }
   ball4.onclick=function(){
   	page2.style.display='none';
   	page3.style.display='block';
   	collect.classList.add('pos4');
   }
   ball5.onclick=function(){
   	page2.style.display='none';
   	page3.style.display='block';
   	collect.classList.add('pos5');
   }
   
  left.onclick=function(){
  	 if(collect.classList.contains('pos1')){
  	 	collect.classList.remove('pos1');
  	 	collect.classList.add('pos5');
  	 }else{
  	 	var a=collect.classList[1];
  	 	var now=Number(a.split('')[a.split('').length-1])-1;
  	 	collect.classList.remove(a);
  	 	collect.classList.add('pos'+now);
  	 }
  }
  right.onclick=function(){
  	 if(collect.classList.contains('pos5')){
  	 	collect.classList.remove('pos5');
  	 	collect.classList.add('pos1');
  	 }else{
  	 	var a=collect.classList[1];
  	 	var now=Number(a.split('')[a.split('').length-1])+1;
  	 	collect.classList.remove(a);
  	 	collect.classList.add('pos'+now);
  	 }     
  }


   var alarm=document.getElementsByClassName('err')[0];
   getDiscount.onclick=function(){
   	//领取折扣券判断数量
   var num1=document.querySelectorAll('.balls b')[0].innerText;
   var num2=document.querySelectorAll('.balls b')[1].innerText;
   var num3=document.querySelectorAll('.balls b')[2].innerText;
   var num4=document.querySelectorAll('.balls b')[3].innerText;
   var num5=document.querySelectorAll('.balls b')[4].innerText;
   var numsStrArr=[num1,num2,num3,num4,num5];
   var numsArr=numsStrArr.map(function(item){
   	return Number(item);
   });
   var meet=numsArr.every(function(item){
   	return item>0;
   })
   if(meet){
   	link.click();
   }else{
     alarm.style.display='block';
   }
   }
   alarm.onclick=function(){
   	this.style.display='none';
   }
   invite.onclick=function(){
   	 friendCircle.style.display='block';
   }
   friendCircle.onclick=function(){
   	this.style.display='none';
   }

   //page3
   var send=document.getElementsByClassName('send')[0];
   var sendpage=document.getElementsByClassName('sendpage')[0];
   var help=document.getElementsByClassName('help')[0];
   var helppage=document.getElementsByClassName('helppage')[0];
   send.onclick=function(){
        sendpage.style.display='block';
   }
   sendpage.onclick=function(){
   	   this.style.display='none';
   }

   help.onclick=function(){
   	helppage.style.display='block';
   }
   helppage.onclick=function(){
   	this.style.display='none';
   }
   

 //分享
       var imgUrl = "images/share/ad.jpg";  //图片LOGO注意必须是绝对路径
       var descContent = '小伙伴，我们并肩参与，快赐予我能量吧！'; //分享给朋友或朋友圈时的文字简介
       var shareTitle = '集夏日能量球 购机折扣拿走不谢';  //分享title
       var lineLink='http:www.baidu.com';
       var appid = '';
        
       function shareFriend() {
           WeixinJSBridge.invoke('sendAppMessage',{
               "appid": appid,
               "img_url": imgUrl,
               "img_width": "200",
               "img_height": "200",
               "link": lineLink,
               "desc": descContent,
               "title": shareTitle
           }, function(res) {
               //_report('send_msg', res.err_msg);
           })
       }
       function shareTimeline() {
           WeixinJSBridge.invoke('shareTimeline',{
               "img_url": imgUrl,
               "img_width": "200",
               "img_height": "200",
               "link": lineLink,
               "desc": descContent,
               "title": shareTitle
           }, function(res) {
                  //_report('timeline', res.err_msg);
           });
       }
       function shareWeibo() {
           WeixinJSBridge.invoke('shareWeibo',{
               "content": descContent,
               "url": lineLink,
           }, function(res) {
               //_report('weibo', res.err_msg);
           });
       }
       // 当微信内置浏览器完成内部初始化后会触发WeixinJSBridgeReady事件。
       document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
           // 发送给好友
           WeixinJSBridge.on('menu:share:appmessage', function(argv){
               shareFriend();
           });
           // 分享到朋友圈
           WeixinJSBridge.on('menu:share:timeline', function(argv){
               shareTimeline();
           });
           // 分享到微博
           WeixinJSBridge.on('menu:share:weibo', function(argv){
               shareWeibo();
           });
       }, false);

</script>
</body>
</html>
