<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>国际流量</title>
  <style>
      *{margin:0;padding:0;}
    html,body{
      width:100%;
      height: 100%;
      font-family: '微软雅黑';
    }
    .wrapper{width:100%;height:100%;}
    .wrapper div{position:absolute;width:100%;height:100%;transition: all 1s;}
    .background{width:100%;height:100%;}
    .text{
      position: absolute;
      width: 50%;
      top:43%;
      left:25%;
    }
    .page1 .text{
      width:56%;
      left:22%;
      top:40%;
    }
    .page2 .text{
      width:80%;
      left:10%;
    }
    .page3 .text{
      width: 60%;
      left:20%;
    }
    .pic{
      position: absolute;
      width:100%;
      left:0;
      top:59.5%;
      -webkit-transform:translateZ(0);
      z-index:20;
    }
  .ball img:first-of-type{
    position: fixed;
    left:-5%;
    width: 110%;
    opacity:1;
    bottom:-40%;
    animation: run 5s linear backwards infinite;
    -webkit-animation: run 5s linear backwards infinite; 
    -o-animation: run 5s linear backwards infinite; 
    -ms-animation: run 5s linear backwards infinite; 
    -moz-animation: run 5s linear backwards infinite; 
  }
  .ball img:last-of-type{
    position: fixed;
    bottom:2%;
    width:6%;
    left:47%;
    animation: down 2s linear backwards infinite;
    -webkit-animation: down 2s linear backwards infinite; 
    -o-animation: down 2s linear backwards infinite; 
    -ms-animation: down 2s linear backwards infinite; 
    -moz-animation: down 2s linear backwards infinite; 
  }

    @keyframes down{
    0%{bottom:0;}
    50%{bottom:3%;}
    100%{bottom:0;}
  }
  @-webkit-keyframes down{
    0%{bottom:0;}
    50%{bottom:3%;}
    100%{bottom:0;}
  }
  @-o-keyframes down{
    0%{bottom:0;}
    50%{bottom:3%;}
    100%{bottom:0;}
  }
  @-moz-keyframes down{
    0%{bottom:0;}
    50%{bottom:3%;}
    100%{bottom:0;}
  }
  @-ms-keyframes down{
    0%{bottom:0;}
    50%{bottom:3%;}
    100%{bottom:0;}
  }
  @keyframes run{
    0%{transform:rotateZ(0deg);}
    100%{transform: rotateZ(360deg);}
  }
  @-webkit-keyframes run{
    0%{-webkit-transform:rotateZ(0deg);}
    100%{-webkit-transform: rotateZ(360deg);}
  }
  @-o-keyframes run{
    0%{-o-transform:rotateZ(0deg);}
    100%{-o-transform: rotateZ(360deg);}
  }
  @-moz-keyframes run{
    0%{-moz-transform:rotateZ(0deg);}
    100%{-moz-transform: rotateZ(360deg);}
  }
  @-ms-keyframes run{
    0%{-ms-transform:rotateZ(0deg);}
    100%{-ms-transform: rotateZ(360deg);}
  }
  .current .text{
      -webkit-animation:moveDown 0.6s ease-in-out 0.5s backwards;
      -moz-animation:moveDown 0.6s ease-in-out 0.5s backwards;
      -o-animation:moveDown 0.6s ease-in-out 0.5s backwards;
      -ms-animation:moveDown 0.6s ease-in-out 0.5s backwards;
      animation:moveDown 0.6s ease-in-out 0.5s backwards;
  }
    @-webkit-keyframes moveDown{
    0%{ -webkit-transform:translateY(-40px);opacity: 0;}
    100%{-webkit-transform:translateY(0px);opacity: 1;}}
    @-moz-keyframes moveDown{
    0%{ -moz-transform:translateY(-40px);opacity: 0;}
    100%{-moz-transform:translateY(0px);opacity: 1;}}
    @-o-keyframes moveDown{
    0%{ -o-transform:translateY(-40px);opacity: 0;}
    100%{-o-transform:translateY(0px);opacity: 1;}}
    @-ms-keyframes moveDown{
    0%{ -ms-transform:translateY(-40px);opacity: 0;}
    100%{-ms-transform:translateY(0px);opacity: 1;}}
    @keyframes moveDown{
    0%{ transform:translateY(-40px);opacity: 0;}
    100%{transform:translateY(0px);opacity: 1;}}

   @keyframes shake{
   0%{ transform:translateX(-30px);}
   50%{transform:translateX(30px);}
   100%{transform:translateX(0px);}
   }
   @-webkit-keyframes shake{
   0%{ -webkit-transform:translateX(-30px);}
   50%{-webkit-transform:translateX(30px);}
   100%{-webkit-transform:translateX(0px);}
  }
  @-moz-keyframes shake{
   0%{ -moz-transform:translateX(-30px);}
   50%{-moz-transform:translateX(30px);}
   100%{-moz-transform:translateX(0px);}
  }
  @-ms-keyframes shake{
   0%{ -ms-transform:translateX(-30px);}
   50%{-ms-transform:translateX(30px);}
   100%{-ms-transform:translateX(0px);}
   }
  @-o-keyframes shake{
   0%{ -o-transform:translateX(-30px);}
   50%{-o-transform:translateX(30px);}
   100%{-o-transform:translateX(0px);}
   }

  .shake{
    position: absolute;
    width: 80%;
    left:10%;
    top:32%;
    animation: shake 0.2s linear 0.5s 2;
    -webkit-animation: shake 0.2s linear 0.5s 2; 
    -o-animation: shake 0.2s linear 0.5s 2; 
    -ms-animation: shake 0.2s linear 0.5s 2; 
    -moz-animation: shake 0.2s linear 0.5s 2; 
 }
  .page1 .shake{
   top:29%;
   }
  .page1,.page2,.page3,.page4{
      display: none;
    }
  .current{display: block;}
  </style>
</head>
<body>
<div class="wrapper">
  <div class="page1 current">
      <img src="images/page1-background.png" alt="background" class="background" />
      <img src="images/page1-shakeText.png" alt="shake" class="shake" />
      <img src="images/page1-text.png" alt="text" class="text" />
  </div>
  <div class="page2">
      <img src="images/page2-background.png" alt="background" class="background" />
      <img src="images/shakeText.png" alt="shake" class="shake" />
      <img src="images/page2-text.png" alt="text" class="text" />
  </div>
  <div class="page3">
      <img src="images/page3-background.png" alt="background" class="background" />
      <img src="images/shakeText.png" alt="shake" class="shake" />
      <img src="images/page3-text.png" alt="text" class="text" />
  </div>
  <div class="page4">
      <img src="images/page4-background.png" alt="background" class="background" />
      <img src="images/shakeText.png" alt="shake" class="shake" />
      <img src="images/page4-text.png" alt="text" class="text" />
      <img src="images/pic.png" alt="pic" class="pic" />
  </div>
</div>
<div class="ball">
  <img src="images/ball.png" alt="ball" class="running" />
  <img src="images/down.png" alt="down" class="down" />
</div>
<script>
  var down=document.getElementsByClassName('down')[0];
  down.onclick=function(){
    var current=document.getElementsByClassName('current')[0];
    var page1=document.getElementsByClassName('page1')[0];
    var curClass=current.classList[0];
      var nextCur=Number(curClass.split('')[curClass.length-1])+1;
      var next=document.getElementsByClassName('page'+nextCur)[0];
      if(!next){
        next=page1;
      }
      current.classList.remove('current');
      next.classList.add('current');
  }
  //返回角度  
          function GetSlideAngle(dx, dy) {  
              return Math.atan2(dy, dx) * 180 / Math.PI;  
          }  
   
          //根据起点和终点返回方向 1：向上，2：向下，3：向左，4：向右,0：未滑动  
          function GetSlideDirection(startX, startY, endX, endY) {  
              var dy = startY - endY;  
              var dx = endX - startX;  
              varresult = 0;  
   
              //如果滑动距离太短  
              if(Math.abs(dx) < 2 && Math.abs(dy) < 2) {  
                  return 0;  
              }  
   
              var angle = GetSlideAngle(dx, dy);  
              if(angle >= -45 && angle < 45) {  
                  result = 4;  
              }else if (angle >= 45 && angle < 135) {  
                  result = 1;  
              }else if (angle >= -135 && angle < -45) {  
                  result = 2;  
              }  
              else if ((angle >= 135 && angle <= 180) || (angle >= -180 && angle < -135)) {  
                  result = 3;  
              }  
   
              return result;  
          }  
   
          //滑动处理  
          var startX, startY;  
          document.addEventListener('touchstart',function (ev) {  
              startX = ev.touches[0].pageX;  
              startY = ev.touches[0].pageY;    
          }, false);  
          document.addEventListener('touchend',function (ev) {  
              var endX, endY;  
              endX = ev.changedTouches[0].pageX;  
              endY = ev.changedTouches[0].pageY;  
              var direction = GetSlideDirection(startX, startY, endX, endY);  
              if(direction===1){
                down.click();
              }
          }, false);  
</script>
</body>
</html>
